---
import Layout from '../layouts/Layout.astro';
import { translations } from '../stores/translation';
import OptimizedImage from '../components/OptimizedImage.astro';

const currentLang = Astro.cookies.get('selectedLang')?.value || 'en';
const t = translations[currentLang as keyof typeof translations];

// Enhanced SEO description
const enhancedDescription = currentLang === 'en' 
  ? "PT Global Niaga Sakti - Your trusted partner for industrial solutions providing marine supplies, safety equipment, and technical services to maritime and industrial sectors across Indonesia."
  : "PT Global Niaga Sakti - Mitra terpercaya Anda untuk solusi industri yang menyediakan perlengkapan kelautan, peralatan keselamatan, dan layanan teknis untuk sektor maritim dan industri di seluruh Indonesia.";
---

<Layout title={t.meta.title.home} description={t.meta.description.home}>
  <div class="min-h-[calc(100vh-396px)] bg-white">
    <!-- Hero Section with Full-width Image -->
    <div class="relative">
      <!-- Full-width background image -->
      <div class="w-full h-[300px] sm:h-[450px] md:h-[600px] relative overflow-hidden">
        <OptimizedImage 
          src="/images/home/Sea.png"
          alt="Industrial Marine Solutions by PT Global Niaga Sakti"
          class="w-full h-full object-cover object-left md:object-center"
          loading="eager"
        />
        <div class="absolute inset-0 bg-gradient-to-r from-primary-1 to-transparent opacity-80"></div>
      </div>

      <!-- Overlay Content -->
      <div class="absolute inset-0">
        <div class="max-w mx-auto px-[10%] h-full">
          <div class="grid grid-cols-1 lg:grid-cols-2 h-full items-center">
            <div class="flex flex-col justify-center text-white">
              <div class="max-w-[600px]">
                <h2 class="text-h4 sm:text-h3 md:text-h2 leading-tight mb-4 sm:mb-8 whitespace-normal">
                  {t.home.hero.title}
                </h2>
                <a 
                  href="/contact" 
                  class="inline-block px-4 md:px-8 py-1 md:py-3 bg-white text-primary-1 rounded-lg 
                        text-h5 sm:text-h4 md:text-h3 hover:bg-gray-100 transition-colors
                        shadow-lg hover:shadow-xl transform hover:-translate-y-0.5
                        transition-transform duration-200"
                >
                  {t.home.hero.cta}
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Content Section -->
    <section class="py-8 md:py-12">
      <div class="max-w mx-auto px-[10%] space-y-12">
        <h2 class="text-h5 sm:text-h4 md:text-h3 text-primary-1 text-center max-w-4xl mx-auto">
          {t.home.content.tagline}
        </h2>
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-40">
          <!-- Products Box -->
          <div class="bg-gray-50 p-8 lg:p-12 rounded-xl border-2 border-primary-3 flex flex-col h-full">
            <h3 class="text-h5 sm:text-h4 md:text-h3 text-primary-1 text-center mb-4">
              {t.home.content.products.title}
            </h3>
            <p class="text-body4 md:text-body2 leading-relaxed text-primary-1 text-justify mb-6 flex-grow">
              {t.home.content.products.description}
            </p>
            <div class="text-center mt-auto">
              <a href="/product" class="inline-flex items-center text-primary-1 group">
                <span class="text-body3 md:text-body1 group-hover:underline">{t.home.content.products.cta}</span>
                <span class="ml-2 transition-transform group-hover:translate-x-1">→</span>
              </a>
            </div>
          </div>

          <!-- Customers Box -->
          <div class="bg-gray-50 p-8 lg:p-12 rounded-xl border-2 border-primary-3 flex flex-col h-full">
            <h3 class="text-h5 sm:text-h4 md:text-h3 text-primary-1 text-center mb-4">
              {t.home.content.customers.title}
            </h3>
            <p class="text-body4 md:text-body2 leading-relaxed text-primary-1 text-justify mb-6 flex-grow">
              {t.home.content.customers.description}
            </p>
            <div class="text-center mt-auto">
              <a href="/customer" class="inline-flex items-center text-primary-1 group">
                <span class="text-body3 md:text-body1 group-hover:underline">{t.home.content.customers.cta}</span>
                <span class="ml-2 transition-transform group-hover:translate-x-1">→</span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- MESPAS Logo Section -->
    <section class="pt-2 pb-12">
      <div class="container mx-auto">
        <div class="w-full max-w-[45%] sm:max-w-[30%] md:max-w-[15%] mx-auto">
          <OptimizedImage
            src="/images/home/MESPAS.png"
            alt="MESPAS Certification"
            class="w-full object-contain rounded-lg"
            loading="lazy"
          />
        </div>
      </div>
    </section>
  </main>
</Layout>

<style>
  img {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
  }

  @media (max-width: 1024px) {
    .from-primary-1 {
      --tw-gradient-from: rgb(6 13 85 / 0.9);
    }
  }
</style>